
import streamlit as st
import pandas as pd

attendance_by_date = {'7/28 (ì›”) ì‚¬ì£¼': ['í‚¤í‚¤ 90 ì„œìš¸', 'ìœ¼ë‹ 92 ì„œìš¸', 'ìƒê°• 93 ì„œìš¸', 'íŠœë¸Œ 94 ê²½ê¸°', 'ì´ë¶ˆ 91 ì„œìš¸', 'ì„ ì„  88 ì„œìš¸'], '7/19 (í† ) ì¢…ë¡œë…¸í¬': ['íŠœë¸Œ 94 ê²½ê¸°', 'ìœ¼ë‹ 92 ì„œìš¸', 'ì•°ë²„ 86 ê²½ê¸°', 'ë Œ 93 ê²½ê¸°', 'í‚¤í‚¤ 90 ì„œìš¸', 'ì´ë¶ˆ 91 ì„œìš¸', 'ë¼ì´ 87 ì„œìš¸'], '7/12 (í† ) ì´ìì¹´ì•¼': ['ë Œ 93 ê²½ê¸°', 'ì•°ë²„ 86 ê²½ê¸°'], '7/12 (í† ) ë¡ ë®¤ìµì „ì‹œ': ['ì„ ì„  88 ì„œìš¸', 'ê¹Œì•… 90 ê²½ê¸°', 'ìˆ˜ë„ 92 ì¸ì²œ'], '7/11 (ê¸ˆ) ë§ˆê³¡í”¼ì': ['ìˆ˜ë„ 92 ì¸ì²œ', 'í‚¤í‚¤ 90 ì„œìš¸', 'ìš°ë¡± 92 ì„œìš¸', 'ê¹Œì•… 90 ê²½ê¸°', 'ì´í‹€ 91 ê²½ê¸°', 'ë‚˜ë¬¼ 92 ì„œìš¸', 'íŠœë¸Œ 94 ê²½ê¸°'], '7/10 (ëª©) ì ì‹¬êº¼ê±°': ['ìˆ˜ë„ 92 ì¸ì²œ', 'í¥ì¹˜ 96 ê²½ê¸°'], '7/6 (ì¼) ê³µí¬ì „ì‹œ': ['ë„¤ì˜¤ 92 ì„œìš¸', 'ìš°ë¡± 92 ì„œìš¸', 'ìœ¼ë‹ 92 ì„œìš¸', 'ì´ë¶ˆ 91 ì„œìš¸', 'ì•°ë²„ 86 ê²½ê¸°', 'í‚¤í‚¤ 90 ì„œìš¸', 'ë§ˆí‚¤ 96 ê²½ê¸°', 'ë‚˜ë¬¼ 92 ì„œìš¸'], '7/5 (í† ) ê´€ì•…ì‚°ì¼ì¶œ': ['ê¹Œì•… 90 ê²½ê¸°', 'ë Œ 93 ê²½ê¸°', 'í™ì‹œ 94 ê²½ê¸°', 'ë¶€ì—‰ 93 ê²½ê¸°']}

records = []
for date, people in attendance_by_date.items():
    for person in people:
        if 'ì´ì´' not in person and 'ì½œë¼' not in person:
            records.append({"ë‚ ì§œ": date, "ì´ë¦„": person})

df = pd.DataFrame(records)

st.title("ğŸ“… ì›”ê°„ ì°¸ì„ì ê´€ë¦¬")
st.markdown("**7ì›” ì°¸ì„ì** ì •ë³´ë¥¼ ì •ë¦¬í•œ í‘œì…ë‹ˆë‹¤. ì´í›„ 8ì›” ìë£Œë„ ì¶”ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.")

st.subheader("ğŸ”¹ ë‚ ì§œë³„ ì°¸ì„ì ëª©ë¡")
st.dataframe(df.sort_values(by="ë‚ ì§œ"))

st.subheader("ğŸ”¸ ì°¸ì„ìë³„ ì°¸ì„ íšŸìˆ˜")
summary = df["ì´ë¦„"].value_counts().reset_index()
summary.columns = ["ì´ë¦„", "ì°¸ì„ íšŸìˆ˜"]
st.dataframe(summary)

st.subheader("ğŸ” íŠ¹ì • ì°¸ì„ì ì¡°íšŒ")
unique_names = df["ì´ë¦„"].unique()
selected_name = st.selectbox("ì°¸ì„ìë¥¼ ì„ íƒí•˜ì„¸ìš”", options=sorted(unique_names))
st.write(f"âœ… **{selected_name}**ì˜ ì°¸ì„ ê¸°ë¡")
st.dataframe(df[df["ì´ë¦„"] == selected_name])
